<h1>Invoice for Order <%= @order.order_number %></h1>

<p><strong>Customer:</strong> <%= @order.customer ? @order.customer.name : "Guest" %></p>
<p><strong>Billing Address:</strong> <%= @order.customer ? @order.customer.address.full_address : @order.address.full_address %></p>

<h2>Order Details</h2>
<table>
  <thead>
    <tr>
      <th>Product</th>
      <th>Quantity</th>
      <th>Price</th>
      <th>Total</th>
    </tr>
  </thead>
  <tbody>
    <% @order.order_items.each do |item| %>
      <tr>
        <td><%= item.product.name %></td>
        <td><%= item.quantity %></td>
        <td><%= number_to_currency(item.price) %></td>
        <td><%= number_to_currency(item.price * item.quantity) %></td>
      </tr>
    <% end %>
  </tbody>
</table>

<h3>Total: <%= number_to_currency(@order.total_amount) %></h3>

<%= link_to 'Return to Home', root_path %>